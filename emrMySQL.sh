# New MySQL RDS for EMR cluster  amzemrrfd01 
amzdbrfd02.c78d1hitro9x.us-east-1.rds.amazonaws.com 

# Master Credential 
hive 

# New MySQL RDS for EMR cluster  amzemrrfq01 
amzdbrfq02.c78d1hitro9x.us-east-1.rds.amazonaws.com 

# Master Credential 
hive 
========

cli to create RDS
======
# amzdbrfd02 
aws rds create-db-instance --engine mysql --engine-version 5.7.22 --license-model general-public-license --port 3306 --db-instance-identifier amzdbrfd02 --db-name hive --master-username hive --master-user-password ls865MzYlnUAbCJm --db-instance-class db.m4.large --storage-type gp2 --allocated-storage 100 --availability-zone us-east-1b --no-multi-az --vpc-security-group-ids sg-f24baa8c --db-subnet-group-name default-vpc-6057bd06 --option-group-name default:mysql-5-7 --db-parameter-group-name default.mysql5.7 --preferred-maintenance-window tue:10:30-tue:11:00 --backup-retention-period 7 --preferred-backup-window 09:43-10:13 --auto-minor-version-upgrade --no-publicly-accessible --storage-encrypted --copy-tags-to-snapshot 


# amzdbrfq02 
aws rds create-db-instance --engine mysql --engine-version 5.7.22 --license-model general-public-license --port 3306 --db-instance-identifier amzdbrfq02 --db-name hive --master-username hive --master-user-password uhWrQv6Ep9J5UxsN  --db-instance-class db.m4.large --storage-type gp2 --allocated-storage 100 --multi-az --vpc-security-group-ids sg-f24baa8c --db-subnet-group-name qa-edh-tco-inf-db-az1 --option-group-name default:mysql-5-7 --db-parameter-group-name default.mysql5.7 --preferred-maintenance-window thu:08:57-thu:09:27 --backup-retention-period 35 --preferred-backup-window 06:50-07:20 --auto-minor-version-upgrade --no-publicly-accessible --storage-encrypted --copy-tags-to-snapshot
===========


cli to create EMR cluster
========
[centos@amzlsmbasp01 ~]$  aws emr create-cluster --termination-protected --applications Name=Hadoop Name=Hive Name=Pig Name=Hue Name=Ganglia Name=Zeppelin Name=HBase Name=Mahout Name=Tez Name=Spark --tags 'Application=RF' 'Name= amzemrrfd01' --ec2-attributes '{"KeyName":"EDH-TCO-EMR-DEV","InstanceProfile":"EMR_EC2_DefaultRole","ServiceAccessSecurityGroup":"sg-a0c176dc","SubnetId":"subnet-05ad1c28","EmrManagedSlaveSecurityGroup":"sg-a4c176d8","EmrManagedMasterSecurityGroup":"sg-cac275b6"}' --release-label emr-5.0.0 --log-uri 's3n://aws-logs-869052972610-us-east-1/elasticmapreduce/' --instance-groups '[{"InstanceCount":3,"AutoScalingPolicy":{"Constraints":{"MinCapacity":3,"MaxCapacity":3},"Rules":[{"Action":{"SimpleScalingPolicyConfiguration":{"ScalingAdjustment":1,"CoolDown":300,"AdjustmentType":"CHANGE_IN_CAPACITY"}},"Description":"","Trigger":{"CloudWatchAlarmDefinition":{"MetricName":"MemoryAvailableMB","ComparisonOperator":"LESS_THAN","Statistic":"AVERAGE","Period":300,"Dimensions":[{"Value":"${emr.clusterId}","Key":"JobFlowId"}],"EvaluationPeriods":1,"Unit":"COUNT","Namespace":"AWS/ElasticMapReduce","Threshold":5000}},"Name":"Default-scale-out-1"},{"Action":{"SimpleScalingPolicyConfiguration":{"ScalingAdjustment":-1,"CoolDown":300,"AdjustmentType":"CHANGE_IN_CAPACITY"}},"Description":"","Trigger":{"CloudWatchAlarmDefinition":{"MetricName":"MemoryAvailableMB","ComparisonOperator":"GREATER_THAN","Statistic":"AVERAGE","Period":300,"Dimensions":[{"Value":"${emr.clusterId}","Key":"JobFlowId"}],"EvaluationPeriods":1,"Unit":"COUNT","Namespace":"AWS/ElasticMapReduce","Threshold":15000}},"Name":"Default-scale-in"}]},"EbsConfiguration":{"EbsBlockDeviceConfigs":[{"VolumeSpecification":{"SizeInGB":2000,"VolumeType":"gp2"},"VolumesPerInstance":1},{"VolumeSpecification":{"SizeInGB":100,"VolumeType":"gp2"},"VolumesPerInstance":1}],"EbsOptimized":true},"InstanceGroupType":"CORE","InstanceType":"m4.4xlarge","Name":"Core - 2"},{"InstanceCount":1,"EbsConfiguration":{"EbsBlockDeviceConfigs":[{"VolumeSpecification":{"SizeInGB":256,"VolumeType":"gp2"},"VolumesPerInstance":1},{"VolumeSpecification":{"SizeInGB":100,"VolumeType":"gp2"},"VolumesPerInstance":1}],"EbsOptimized":true},"InstanceGroupType":"MASTER","InstanceType":"m4.2xlarge","Name":"Master - 1"}]' --configurations '[{"Classification":"core-site","Properties":{"fs.s3n.server-side-encryption-algorithm":"AES256","hadoop.proxyuser.infoadmin.groups":"*","fs.s3n.multipart.uploads.enabled":"true","fs.s3.enableServerSideEncryption":"true","fs.s3a.server-side-encryption-algorithm":"AES256","fs.s3.ssl.enabled":"true","hadoop.proxyuser.yarn.hosts":"*","hadoop.proxyuser.infoadmin.hosts":"*","hadoop.proxyuser.yarn.groups":"*"},"Configurations":[]},{"Classification":"hive-site","Properties":{"javax.jdo.option.ConnectionUserName":"hive","javax.jdo.option.ConnectionDriverName":"org.mariadb.jdbc.Driver","javax.jdo.option.ConnectionPassword":"ls865MzYlnUAbCJm","javax.jdo.option.ConnectionURL":"jdbc:mysql://amzdbrfd02.c78d1hitro9x.us-east-1.rds.amazonaws.com:3306/hive?createDatabaseIfNotExist=true"},"Configurations":[]},{"Classification":"hdfs-site","Properties":{"dfs.block.size":"268435456","dfs.replication":"1"},"Configurations":[]},{"Classification":"hbase-site","Properties":{"hbase.regionserver.handler.count":"30"},"Configurations":[]},{"Classification":"yarn-site","Properties":{"yarn.nodemanager.pmem-check-enabled":"false","yarn.nodemanager.vmem-check-enabled":"true"},"Configurations":[]}]' --auto-scaling-role EMR_AutoScaling_DefaultRole --bootstrap-actions '[{"Path":"s3://amzs3edhpkg/scripts/bootstrap-dev-1.sh","Name":"Custom action"}]' --ebs-root-volume-size 100 --service-role EMR_DefaultRole --security-configuration 'AMZEMREDHD01' --enable-debugging --name 'amzemrrfd01' --scale-down-behavior TERMINATE_AT_TASK_COMPLETION --region us-east-1 --profile dp-automation



[centos@amzlsmbasp01 ~]$ aws emr create-cluster --termination-protected --applications Name=Hadoop Name=Hive Name=Pig Name=Hue Name=Ganglia Name=Mahout Name=Tez Name=Spark Name=Zeppelin Name=HBase --tags 'Application=RF' 'Name= amzemrrfq01' --ec2-attributes '{"KeyName":"EDH-TCO-EMR-QA","InstanceProfile":"EMR_EC2_DefaultRole","ServiceAccessSecurityGroup":"sg-a0c176dc","SubnetId":"subnet-733b5b3a","EmrManagedSlaveSecurityGroup":"sg-a4c176d8","EmrManagedMasterSecurityGroup":"sg-cac275b6"}' --release-label emr-5.0.0 --log-uri 's3n://aws-logs-869052972610-us-east-1/elasticmapreduce/' --instance-groups '[{"InstanceCount":6,"AutoScalingPolicy":{"Constraints":{"MinCapacity":6,"MaxCapacity":6},"Rules":[{"Action":{"SimpleScalingPolicyConfiguration":{"ScalingAdjustment":1,"CoolDown":300,"AdjustmentType":"CHANGE_IN_CAPACITY"}},"Description":"","Trigger":{"CloudWatchAlarmDefinition":{"MetricName":"MemoryAvailableMB","ComparisonOperator":"LESS_THAN","Statistic":"AVERAGE","Period":300,"Dimensions":[{"Value":"${emr.clusterId}","Key":"JobFlowId"}],"EvaluationPeriods":1,"Unit":"COUNT","Namespace":"AWS/ElasticMapReduce","Threshold":5000}},"Name":"Default-scale-out-1"},{"Action":{"SimpleScalingPolicyConfiguration":{"ScalingAdjustment":-1,"CoolDown":300,"AdjustmentType":"CHANGE_IN_CAPACITY"}},"Description":"","Trigger":{"CloudWatchAlarmDefinition":{"MetricName":"MemoryAvailableMB","ComparisonOperator":"GREATER_THAN","Statistic":"AVERAGE","Period":300,"Dimensions":[{"Value":"${emr.clusterId}","Key":"JobFlowId"}],"EvaluationPeriods":1,"Unit":"COUNT","Namespace":"AWS/ElasticMapReduce","Threshold":15000}},"Name":"Default-scale-in"}]},"EbsConfiguration":{"EbsBlockDeviceConfigs":[{"VolumeSpecification":{"SizeInGB":2000,"VolumeType":"gp2"},"VolumesPerInstance":1}],"EbsOptimized":true},"InstanceGroupType":"CORE","InstanceType":"m4.4xlarge","Name":"Core - 2"},{"InstanceCount":1,"EbsConfiguration":{"EbsBlockDeviceConfigs":[{"VolumeSpecification":{"SizeInGB":256,"VolumeType":"gp2"},"VolumesPerInstance":1}],"EbsOptimized":true},"InstanceGroupType":"MASTER","InstanceType":"m4.2xlarge","Name":"Master - 1"}]' --configurations '[{"Classification":"core-site","Properties":{"fs.s3n.server-side-encryption-algorithm":"AES256","hadoop.proxyuser.infoadmin.groups":"*","fs.s3n.multipart.uploads.enabled":"true","fs.s3.enableServerSideEncryption":"true","fs.s3a.server-side-encryption-algorithm":"AES256","fs.s3.ssl.enabled":"true","hadoop.proxyuser.yarn.hosts":"*","hadoop.proxyuser.infoadmin.hosts":"*","hadoop.proxyuser.yarn.groups":"*"},"Configurations":[]},{"Classification":"hive-site","Properties":{"javax.jdo.option.ConnectionUserName":"hive","javax.jdo.option.ConnectionDriverName":"org.mariadb.jdbc.Driver","javax.jdo.option.ConnectionPassword":"uhWrQv6Ep9J5UxsN","javax.jdo.option.ConnectionURL":"jdbc:mysql://amzdbrfq02.c78d1hitro9x.us-east-1.rds.amazonaws.com:3306/hive?createDatabaseIfNotExist=true"},"Configurations":[]},{"Classification":"hdfs-site","Properties":{"dfs.block.size":"268435456","dfs.replication":"1"},"Configurations":[]},{"Classification":"hbase-site","Properties":{"hbase.regionserver.handler.count":"30"},"Configurations":[]},{"Classification":"yarn-site","Properties":{"yarn.nodemanager.pmem-check-enabled":"false","yarn.nodemanager.vmem-check-enabled":"true"},"Configurations":[]}]' --auto-scaling-role EMR_AutoScaling_DefaultRole --bootstrap-actions '[{"Path":"s3://amzs3edhpkg/scripts/bootstrap-qa.sh","Name":"Custom action"}]' --service-role EMR_DefaultRole --security-configuration 'AMZEMREDHQ01' --enable-debugging --name 'amzemrrfq01' --scale-down-behavior TERMINATE_AT_TASK_COMPLETION --region us-east-1 --profile dp-automation

=======
Company

Sensitive Data:


