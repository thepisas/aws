{
  "AWSTemplateFormatVersion": "2010-09-09",
  "Resources": {
    "RStudioInstance": {
      "Type": "AWS::EC2::Instance",
      "Properties": {
        "DisableApiTermination": "false",
        "InstanceInitiatedShutdownBehavior": "stop",
        "EbsOptimized": "true",
        "IamInstanceProfile": "arn:aws:iam::869052972610:instance-profile/sasdev_role",
        "ImageId": "ami-26ebbc5c",
        "InstanceType": "r5.xlarge",
        "KeyName": "apathros",
        "Monitoring": "false",
        "Tags": [
          {
            "Key": "Application",
            "Value": "RStudio"
          },
          {
            "Key": "Name",
            "Value": "poc-amzrstedhdev01"
          },
          {
            "Key": "OS",
            "Value": "RedHatLinux"
          },
          {
            "Key": "Daily-Snapshot",
            "Value": "False"
          }
        ],
        "Volumes": [
          {
            "Device": "/dev/sdf",
            "VolumeId": {
              "Ref": "VolApp"
            }
          }
        ],
        "NetworkInterfaces": [
          {
            "DeleteOnTermination": "true",
            "Description": "Primary network interface",
            "DeviceIndex": 0,
            "SubnetId": {
              "Ref": "subnet0bad1c26"
            },
                "GroupSet": [
              "sg-b503cac9",
              {
                "Ref": "sgSASDEVSG"
              }
            ]
          }
        ]
      }
    },
    "VolApp": {
      "Type": "AWS::EC2::Volume",
      "Properties": {
        "AvailabilityZone": "us-east-1b",
        "Encrypted": true,
        "Size": "128",
        "VolumeType": "gp2",
	"DeleteOnTermination": true,
        "Tags": [
          {
            "Key": "manualsnapshot",
            "Value": "true"
          },
          {
            "Key": "Application",
            "Value": "RStudio"
          },
          {
            "Key": "Name",
            "Value": ""
          }
        ]
      }
    }
}
}
